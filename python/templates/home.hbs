<!DOCTYPE html>
<html lang="en">
<head>
    {{{head}}}
    <link rel="stylesheet" type="text/css" href="/public/styles/stylesHome.css">
    <title>Homepage</title>
</head>
<body>
    <header class="sectionTop">
    </header>
    <main class="conteudo">
        <section class="banner">
            <div class="bannerTxt"> 
                <span>Pessoas unidas<br></span>
                <span>Uma boa comunidade<br></span>
                <span>Tudo está por aqui<br></span>
            </div>
            <div class="subBanner">
                <h2 class="subText">Conecte-se com uma <strong>comunidade vibrante e unida.</strong></h2>
                <h2 class="subText">Descubra tudo o que você precisa <strong>em um só lugar.</strong></h2>
                <h2 class="subText">Junte-se a nós e <strong>faça parte da experiência!</strong></h2>
            </div>
            <button class="btnPost" id="openModal">Crie sua postagem aqui!</button>
            
        </section>

        <section class="cardBox">
            {{#each posts}}
                <div class="card">
                    <div class="cardTop">
                        <div class="initTop">
                            <img class="pfpImg" src="/public/assets/pfp.svg">                
                            <h3 class="username">{{name_user}}</h3>
                            <h4 class="postTime">H {{post_date}}</h4>
                        </div>
                        <div class="endTop">
                            <h4 class="comentarios">(146)comentários</h4>
                        </div>
                    </div>
                    <h5 class="cardText">{{post}}</h5>
                    {{#if post_image}}
                        <img src="data:image/jpeg;base64,{{post_image}}" width="400" height="200" alt="Post Image">
                    {{/if}}
                    {{#if post_video}}
                        <video src="data:video/mp4;base64,{{post_video}}" width="400" height="200" controls></video>
                    {{/if}}
                    <div class="cardBottom">
                        <div class="voteStyle">
                            <button id="upvote" class="upvote" data-post-id="{{id_posts}}">
                                <img class="upvoteImg" src="/public/assets/upvote.svg" alt="upvote">
                                {{post_votes}} | {{id_posts}}
                            </button>
                            <button id="downvote" class="downvote" data-post-id="{{id_posts}}">
                                <img class="downvoteImg" src="/public/assets/downvote.svg" alt="downvote">
                            </button>
                        </div>
                        

                        <p class="userVoteText">{{user_vote}}</p>
                          
                    </div>
                </div>    
            {{/each}}   
        </section>


    </main>

    <div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <form id="postForm" action="/create-post" method="POST" enctype="multipart/form-data">
            <label for="content">Content</label>
            <textarea name="content" id="content" cols="30" rows="10"></textarea>
            <label for="file">File</label>
            <input type="file" name="file" id="file" accept="image/*,video/mp4">
            <button type="submit">Enter</button>
        </form>
    </div>
</div>
<script src="../public/scripts/scriptsHome.js"></script>
</body>
</html>
